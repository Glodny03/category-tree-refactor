# ğŸ— Category Tree Parser

## ğŸ“Œ Description  
This project fetches a product category tree, processes it, and returns it in the correct format.  
It also fixes an issue with sorting second-level categories and makes testing easier by decoupling dependencies.  

## ğŸš€ Getting Started  
1. Install dependencies:  
   ```bash
   npm install
   ```
2. Run tests:  
   ```bash
   npm run test
   ```

## ğŸ›  Project Structure  
```
â”œâ”€â”€ data/                  # Test input and expected results
â”œâ”€â”€ mocks/                 # Mock API
â”œâ”€â”€ services/category/     # Category parsing logic
â”‚   â”œâ”€â”€ categoryTree.ts    # Main function for building the category tree
â”‚   â”œâ”€â”€ categoryHelpers.ts # Helper functions (parsing, sorting, flags)
â”‚   â”œâ”€â”€ __test__/          # Unit tests
â”œâ”€â”€ types/                 # TypeScript interfaces
â””â”€â”€ index.ts               # Entry point
```

## ğŸ” Key Features  
- **categoryTree** â€“ Fetches and maps data into the correct structure.  
- **parseCategoryOrder** â€“ Extracts order numbers from category titles.  
- **buildCategoryElement** â€“ Recursively builds the category tree.  
- **setShowOnHomeFlags** â€“ Logic for setting `showOnHome` flags. 

## ğŸ–¼ Example Output  
Hereâ€™s an example of the category tree structure generated by this project:  

![Category Tree Result](https://jakubmrzyglod.eu/img/category-tree-output.gif)

## âœ… Tests  
The `ava` test suite covers:  
- Parsing category order (`parseCategoryOrder`).  
- Correct `showOnHome` flag assignment.  
- The full category tree structure.  

## ğŸ“Œ Project Goals
âœ”ï¸ Modular and clean architecture ğŸ“¦  
âœ”ï¸ Proper sorting of categories          
âœ”ï¸ Fully testable with mocked data ğŸ§ª  
âœ”ï¸ ESLint and Prettier compliant ğŸ†  


## ğŸ“œ Task Description (Archived)
> ## A co my tu mamy?

> W pliku **task.ts** mamy funkcje ktÃ³ra pobiera drzewo kategorii pewnych produktÃ³w z zewnÄ™trznego ÅºrÃ³dÅ‚a, odpowiednio je mapuje i zwraca.
> Dodatkowo funkcja **categoryTree** zawiera bÅ‚Ä…d, polegajÄ…cy na niewÅ‚aÅ›ciwym sortowaniu kategorii drugiego poziomu (szczegÃ³Å‚y w wymaganiach do zadania).
>
> W pliku **mockedApi.ts** znajduje siÄ™ fejkowe ÅºrÃ³dÅ‚o danych i tam nie ma potrzeby nic zmieniaÄ‡.
>
> ## Co naleÅ¼y zrobiÄ‡?
>
> 1. Refactor funkcji categoryTree. Wszystkie chwyty dozwolone. Dzielenie funkcji, wynoszenie zaleÅ¼noÅ›ci, zmiana parametrÃ³w wejÅ›ciowych, etc...
> 2. Å¹rÃ³dÅ‚o danych (funkcja getCategories) powinna byÄ‡ przekazywana jako zaleÅ¼noÅ›Ä‡. W idealnym scenariuszu categoryTree opiera siÄ™ na abstrakcji i nie jest Å›wiadoma co konretnie zostanie jej przekazane
> 3. Poprawiony zostanie bug opisany poniÅ¼ej.
> 4. W osobnym pliku przeprowadzony zostanie dowÃ³d (w postaci kodu) ktÃ³ry jednoznacznie pokaÅ¼e poprawnoÅ›Ä‡ dziaÅ‚ania funkcji categoryTree.
>
> > Wszystkie potrzebne paczki sÄ… juÅ¼ w tym repozytorium, aczkolwiek moÅ¼na uÅ¼yÄ‡ dowolnych.
>
> ## Na czym polega bug?
>
> Dla kaÅ¼dej pobieranej kategorii, w parametrze **Title** moze byÄ‡ zawarta opcjonalna numeracja ktÃ³ra powinna definiowaÄ‡ kolejnoÅ›Ä‡ zwracanÄ… przez funkcje (w polu **order**).
> Na ten moment sortowanie dziaÅ‚a nieprawidÅ‚owo, naleÅ¼y to poprawiÄ‡.
>
> > Dla wejÅ›cia znajdujÄ…cego siÄ™ w pliku **input.ts**, w tym momencie funkcja zwraca takie wyjÅ›cie jak w pliku **currentResult.ts**. Oczekiwane wyjÅ›cie zawarte jest w pliku **correctResult.ts**
>
> ## Jak uÅ¼ywaÄ‡ tego repo?
>
> NajwaÅ¼niejsza komenda dla tego zadania to **npm run test** - buduje ona TSa i odpala testy. Ta komenda siÄ™ wywali jeÅ›li kod nie przejdzie eslinta i prettiera. Zatem Å¼eby sprawdziÄ‡ swoje zadanie naleÅ¼y najpierw pozbyÄ‡ siÄ™ bÅ‚Ä™dÃ³w z eslinta i odpaliÄ‡ **fix:prettier**.
